if(typeof RedactorPlugins=="undefined")var RedactorPlugins={};RedactorPlugins.bbmButtons={init:function(){var n=this;$.each(n.textButtons,function(t,i){var r=n.getBtn(t);r.addClass("BbmText").text(i)}),$.each(n.faButtons,function(t,i){var r=n.getBtn(t);r.addClass("BbmFa fa "+i)})},textButtons:{},faButtons:{}},!function(n,t,i,r){XenForo.BbmCustomEditor=function(n){this.__construct(n)},XenForo.BbmCustomEditor.prototype={__construct:function(t){var i=t.data("options"),f,e,o,s,u;if(typeof i===r)return!1;f=i.bbmButtonConfig||!1,e=this,n.extend(this,{$textarea:t,redactorOptions:i,bbmConfig:f,bbmButtons:i.buttons}),f!==!1&&(o=[],n.each(f,function(n,t){t=e.filterGroup(t),t&&o.push(t)}),s={editorOptions:{buttons:o}},n.extend(!0,i,s),u=i.editorOptions,typeof u.plugins!==r&&n.isArray(u.plugins)?u.plugins.push("bbmButtons"):u.plugins=["bbmButtons"]),setTimeout(function(n){e.postHook(n)},0)},filterGroup:function(n){return n},postHook:function(){var i=this;if(this.redactor=this.$textarea.data("redactor"),typeof this.redactor===r)return!1;this.customButtons=this.redactor.opts.buttonsCustom,typeof i.bbmButtons!==r&&i.bbmButtons!=null&&n.each(i.bbmButtons,function(n,t){var s,u,o,c;if(typeof i.customButtons[n]!==r&&(s=i.customButtons[n],typeof t.tag!==r&&typeof t.bbCodeContent!==r)){var h=t.tag,e=t.bbCodeContent,f=t.bbCodeOptions,l=t.bbCodeOptionsSeparator,a=t.textButton;(t.textButton?RedactorPlugins.bbmButtons.textButtons[n]=t.textButton:t.faButton&&(RedactorPlugins.bbmButtons.faButtons[n]=t.faButton),e||f)&&(u="["+h,o="[/"+h+"]",u+=f?"="+f+"]":"]",c=u+e+o,s.callback=function(n){if(f&&!e){var t=XenForo.BbCodeWysiwygEditor.prototype;if(typeof t.wrapSelectionInHtml!==r){t.wrapSelectionInHtml(n,u,o,!0);return}}n.execCommand("inserthtml",c)})}}),typeof BBM_Redactor_EXTEND!==r&&n.each(BBM_Redactor_EXTEND,function(n,t){typeof t=="function"&&t(i)})}},XenForo.register("textarea.BbCodeWysiwygEditor","XenForo.BbmCustomEditor")}(jQuery,this,document,"undefined");